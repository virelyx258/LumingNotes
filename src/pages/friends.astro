---

import { getEntry, render } from "astro:content";
import Markdown from "@components/misc/Markdown.astro";
import I18nKey from "../i18n/i18nKey";
import { i18n } from "../i18n/translation";
import MainGridLayout from "../layouts/MainGridLayout.astro";

const friendsPost = await getEntry("spec", "friends");

if (!friendsPost) {
	throw new Error("About page content not found");
}

const { Content } = await friendsPost.render();
const items = [
	{
		title: "极客死亡计划",
		imgurl:
			"https://www.haoyu233.com/wp-content/uploads/2025/06/f462b8524cee1ea5111dcb74092b9ab2.gif",
		desc: "向内进行深入思考，向外输出洞见和看法。",
		siteurl: "https://geedea.pro",
	},
	{
		title: "白熊阿丸的小屋",
		imgurl:
			"https://cravatar.cn/avatar/21531185e8296f70da566b68d3fc9785?s=400&d=mp",
		desc: "在这里可以看到一个真实的我，我会在这里书写我的一切",
		siteurl: "https://blog.bxaw.name",
	},
	{
		title: "Vei Blog",
		imgurl: "https://cloud.230456.xyz/Logo/VeiLogoN.png",
		desc: "松窗竹户，万千潇洒",
		siteurl: "https://blog.veitzn.top/",
	},
	{
		title: "GLIMMER",
		imgurl: "https://media.duckxu.com/blogfiles/public/iduckxucom.jpg",
		desc: "只有不活在他人的期待中，才可以成为更好的自己。",
		siteurl: "https://i.duckxu.com/",
	},
	{
		title: "希记",
		imgurl: "https://q1.qlogo.cn/g?b=qq&nk=3188468169&s=640",
		desc: "做一条，逆流的鱼。",
		siteurl: "https://note.moxiify.cn/",
	},
	{
		title: "往日信笺",
		imgurl: "https://www.xingmail.cn/favicon.ico",
		desc: "一个Xing分享自己的故事的地方",
		siteurl: "https://www.xingmail.cn/",
	},
	{
		title: "柳橙睿",
		imgurl: "https://www.liuchengrui.cn/myphoto.png",
		desc: "其实我是一个假柳橙",
		siteurl: "https://www.liuchengrui.cn/",
	},
	{
		title: "阿锋的小宇宙",
		imgurl: "https://cravatar.cn/avatar/868740183b995d2707e307ce0a89633a?s=200",
		desc: "沧海一粟，微亮渺小一只虫。",
		siteurl: "https://feng.pub/",
	},
	{
		title: "CC米饭的小世界",
		imgurl: "https://gravatar.loli.net/avatar/39bab898a41e6fa8d7357abd9c283bb7",
		desc: "是全新的世界！",
		siteurl: "https://world.ccrice.com/",
	},
	{
		title: "老陈爱刷机",
		imgurl:
			"http://blog.chenyuxia.com/wp-content/uploads/2025/01/cropped-dc57b0460b95b3e21479f93643b556e9.jpg",
		desc: "由老陈爱刷机搭建的网站，更新些好玩的东西。",
		siteurl: "https://blog.chenyuxia.com/",
	},
	{
		title: "小改学习志",
		imgurl:
			"https://www.haoyu233.com/wp-content/uploads/2025/07/33d1bf889e23bb0755cd2de995d8718c.jpg",
		desc: "Make It Possible.",
		siteurl: "https://www.haoyu233.com/",
	},
	{
		title: "Echo",
		imgurl: "https://www.liveout.cn/wp-content/uploads/2024/09/1.jpg",
		desc: "漂泊于互联网中的小窝",
		siteurl: "https://www.liveout.cn/",
	},
	{
		title: "makotowu",
		imgurl:
			"https://www.haoyu233.com/wp-content/uploads/2025/02/b03cbea61a7d4e5ebd96651eb18869a5.webp",
		desc: "makotowu运营笔记",
		siteurl: "https://makotowu.cnstlapy.cn/",
	},
	{
		title: "XXYの博客",
		imgurl: "http://q2.qlogo.cn/headimg_dl?dst_uin=3429924750&spec=5",
		desc: "爱折腾，爱分享.",
		siteurl: "https://blog.xuxiny.top/",
	},
	{
		title: "松種小窝",
		imgurl: "https://pineseed.cn/wp-content/uploads/2024/08/picture.jpg",
		desc: "花开又花落，时节暗中迁",
		siteurl: "https://pineseed.cn/",
	},
	{
		title: "Horean's Blog",
		imgurl: "https://cdn-images.hxrch.top/blog-logo_128x128.png",
		desc: "Spread the Knowledge Wisely & Widely",
		siteurl: "https://blog.hxrch.top",
	},
	{
		title: "云晓晨",
		imgurl: "https://cdn.kaiqi.wang/favicon.svg",
		desc: "未来路远 • 勿忘初心",
		siteurl: "https://blog.kaiqi.wang",
	},
	{
		title: "圆周率",
		imgurl: "https://www.yuanzj.top/img/favicon.jpg",
		desc: "My Blog!",
		siteurl: "https://www.yuanzj.top",
	},
	{
		title: "Limitz_",
		imgurl: "https://q1.qlogo.cn/g?b=qq&nk=66870019&s=100",
		desc: "记得给我的世界加上故事与咖啡.",
		siteurl: "https://limitz.top",
	},
	{
		title: "Levi",
		imgurl:
			"https://levi-oss-1301066479.cos.ap-guangzhou.myqcloud.com/avatarImages/Snipaste_2024-04-24_16-54-57.png",
		desc: "一个有意思的Blog，工作记录，日常分享，欢迎访问",
		siteurl: "https://leviqin.top/",
	},
	{
		title: "KFACBT",
		imgurl: "https://blog.gytxtx.top/img/logo.jpg",
		desc: "主要记录分享一些技术文章，以后或许还有别的东西（？）",
		siteurl: "https://blog.gytxtx.top/",
	},
	{
		title: "Bensz",
		imgurl: "https://blognas.hwb0307.com/logo.jpg",
		desc: "百代繁华一朝都，谁非过客；千秋明月吹角寒，花是主人。",
		siteurl: "https://blognas.hwb0307.com/",
	},
];
const shuffledItems = [...items].sort(() => Math.random() - 0.5);
---
<MainGridLayout title={i18n(I18nKey.friends)} description={i18n(I18nKey.friends)}>
    <div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32">
        <div class="card-base z-10 px-9 py-6 relative w-full ">
                      <div class="card-base z-10 px-9 py-6 relative w-full ">
						<div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-8 my-4">
							{shuffledItems.map((item) => (
								<div class="flex flex-nowrap items-stretch h-28 gap-4 rounded-[var(--radius-large)]">
									<div class="w-28 h-28 flex-shrink-0 rounded-lg overflow-hidden bg-zinc-200 dark:bg-zinc-900">
										<img src={item.imgurl} alt="站点头像" class="w-full h-full object-cover">
									</div>
									<div class="grow w-full">
										<div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 mb-1">{item.title}</div>
										<div class="text-50 text-sm font-medium">{item.desc}</div>
										<div class:list={["items-center", {"flex": true, "hidden md:flex" : false}]}>
											<div class="flex flex-row flex-nowrap items-center">
												{(item.tags && item.tags.length > 0) && item.tags.map((tag,i) => (
												<div class:list={[{"hidden": i==0}, "mx-1.5 text-[var(--meta-divider)] text-sm" ]}>
													/
												</div>
												<span class="transition text-50 text-sm font-medium">
													{tag}
												</span>))}
												{!(item.tags && item.tags.length > 0) && <div class="transition text-50 text-sm font-medium">{i18n(I18nKey.noTags)}</div>}
											</div>
										</div>
									</div>
									<a href={item.siteurl} target="_blank" rel="noopener noreferrer"class="flex btn-regular w-[3.25rem] rounded-lg bg-[var(--enter-btn-bg)] hover:bg-[var(--enter-btn-bg-hover)] active:bg-[var(--enter-btn-bg-active)] active:scale-95">
										<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="transition text-[var(--primary)] text-4xl mx-auto iconify iconify--material-symbols" width="1em" height="1em" viewBox="0 0 24 24">
											<path fill="currentColor" d="M12.6 12L8.7 8.1q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7z"></path>
										</svg>
									</a>
								</div>
							))}
						</div>
            <Markdown class="mt-2">
                <Content />
            </Markdown>
        </div>
    </div>
    <!--在此处👇插入随机排列JS脚本 -->
	<script>
	window.addEventListener('DOMContentLoaded', () => {
		const container = document.getElementById('friends-list');
		if (!container) return;
		const cards = Array.from(container.children);
		// 洗牌算法
		for (let i = cards.length - 1; i > 0; i--) {
			const j = Math.floor(Math.random() * (i + 1));
			[cards[i], cards[j]] = [cards[j], cards[i]];
		}
		// 重新插入
		cards.forEach(card => container.appendChild(card));
	});
	</script>
<!--在此处👆插入随机排列JS脚本 -->
</MainGridLayout>